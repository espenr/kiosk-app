<!DOCTYPE html>
<!-- saved from url=(0066)https://dakboard.com/screen/uuid/5db5be9f-10981b-d9e5-ce47bacef4f5 -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>DAKboard</title>
	<link rel="stylesheet" href="./DAKboard_files/css">
	<link rel="stylesheet" href="./DAKboard_files/app.css">
	<link rel="stylesheet" href="./DAKboard_files/screen-layout-custom.css">
    <link href="./DAKboard_files/animate.min.css" rel="stylesheet">

    <link rel="stylesheet" href="./DAKboard_files/all.css" integrity="sha384-yJpxAFV0Ip/w63YkZfDWDTU6re/Oc3ZiVqMa97pi8uPt92y0wzeK3UFM2yQRhEom" crossorigin="anonymous">

	
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="google" content="notranslate">
	<link rel="apple-touch-icon" href="https://static.dakboard.com/assets/img/dakboard-logos/apple-touch-icon.png">
	<link rel="icon" sizes="192x192" href="https://static.dakboard.com/assets/img/dakboard-logos/apple-touch-icon.png">
    <meta name="robots" content="noindex,nofollow">

    <script src="./DAKboard_files/jquery-3.6.0.min.js.last ned" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <script src="./DAKboard_files/bootstrap.min.js.last ned"></script>
    <script src="./DAKboard_files/bootstrap-notify.min.js.last ned"></script>
    <link href="./DAKboard_files/bootstrap-Screens-3.4.1.min.css" rel="stylesheet">
    <link href="./DAKboard_files/options-Screens.min.css" rel="stylesheet">


    <script>
    let contentExpiration = Date.now() + 21600000;

    const htmlEncodeCharMap = {
        '"': '&quot;',
        "'": '&#039;',
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
    };
    Object.freeze(htmlEncodeCharMap);
    function htmlEncode(str) {
        if (typeof(str) === 'string') {
            return str.replace(/["'&<>]/g, function(ch) {
                return htmlEncodeCharMap[ch];
            });
        } else {
            console.log('htmlEncode: Not a string / returning empty');
            return '';
        }
    }
    </script>
	  
</head>
<body>
	<script src="./DAKboard_files/progressbar.min.js.last ned"></script>
	<script src="./DAKboard_files/moment.min.js.last ned"></script>
	<script src="./DAKboard_files/moment-timezone.min.js.last ned"></script>

    <div id="dak-network-offline" class="animated slideInLeft fadeOutLeft" style="display: none;">
        <span class="fas fa-exclamation-triangle"></span>&nbsp;
        DAKboard Device is Offline - Please check network connectivity!
    </div>

	<style id="screen-header-styles">
body {
	background: #000000;
	color: #ffffff;

	}
</style>

<style id="custom-css-styles">
    
    .brightness {
        background: rgba(0,0,0, );
        z-index:15;
    }

    </style>

<script>
var blocks={};
var text_schedules={};
var timers={};

timerId_checkBlockSchedules = null;
timerId_checkTextSchedules = null;


function getSunriseTime()
{
    return '06:27';
}

function getSunsetTime()
{
    return '18:24';
}

/**
 * Check each block schedule and show/hide
 * the necessary block
 *
 */
function checkBlockSchedules()
{
    // Prevent multiple timers for the same action
    // by clearing the last one, now that we have been called
    //
    if (timerId_checkBlockSchedules) {
        clearTimeout(timerId_checkBlockSchedules);
    }

    // Check each block for a schedule
    $.each(blocks, function(block_id, block) {

        // No schedules found, check next block
        if ( ! block.schedules.length) {
            return true;
        }
        //console.log(block_id);
        block.orig_status = block.is_active;

        block.is_active = false;

        // Check each schedule on this block
        for (let currSchedIdx in block.schedules) {
            block.is_active = block.is_active || isScheduleActive(block.schedules[currSchedIdx]);
        }

        let blockElem = $('#' + block_id);
        if (block.is_active) {
            if (!blockElem.is(':visible')) {
                blockElem
                    .show()
                    .trigger('schedulestart.dak');
            }
        }
        else {
            if (blockElem.is(':visible')) {
                blockElem
                    .hide()
                    .trigger('scheduleend.dak');
            }
        }


        if (block.is_active && ! block.orig_status) {
            if (block.type == 'photos') {
                // Trigger the photo block to refresh
                window['update' + block_id]();
            } else if (block.type == 'calendar') {
                // Trigger the calendar block to refresh (See also: Issue 2131)
                window['update' + block_id]();
            }
        }

    }) // end each

    timerId_checkBlockSchedules = setTimeout(function(){
        checkBlockSchedules();
    }, 60000);

} // end checkBlockSchedules()



/**
 * Check each scheduled text schedule and show/hide
 * the necessary div
 *
 */
function checkTextSchedules()
{
    // Prevent multiple timers for the same action
    // by clearing the last one, now that we have been called
    //
    if (timerId_checkTextSchedules) {
        clearTimeout(timerId_checkTextSchedules);
    }


    // Check each text schedule, determine its individual visibility
    $.each(text_schedules, function(id, schedule) {
        let currSchedTextElem = $('.block-scheduledtext #' + id);
        let isScrollingBlock = currSchedTextElem.parent('MARQUEE').length;
        let hasVisibleTxtSiblings = (isScrollingBlock
                ? (currSchedTextElem.parents('MARQUEE').siblings('MARQUEE').children('.convert-markdown:visible').length > 0)
                : (currSchedTextElem.siblings('.convert-markdown:visible').length > 0)
        );

        if (isScheduleActive(schedule)) {
            // If audio alert is configured, check if it is the
            // first-minute of the schedule window,
            // then play the alert
            //
            if ((typeof(schedule.audio) !== 'undefined')
                && (schedule.audio != '')) {
                let startHourAndMin;
                let nowTime = new Date();
                switch (schedule.start_time_type) {
                    case 'sunrise': startHourAndMin = getSunriseTime(); break;
                    case 'sunset': startHourAndMin = getSunsetTime(); break;

                    case 'time':
                    default:
                        startHourAndMin = schedule.start_time;
                }
                startHourAndMin = startHourAndMin.split(':');

                if (parseInt(startHourAndMin[0], 10) == nowTime.getHours()
                    && parseInt(startHourAndMin[1], 10) == nowTime.getMinutes()) {

                    console.log('Audio Alert for: ' + id + ' @ ' + startHourAndMin[0] + ':' + startHourAndMin[1]);

                    // Create an Audio Elem and play the selected clip
                    let audioElem = new Audio('https://static.dakboard.com/assets/audio/' + schedule.audio);
                    audioElem.addEventListener('canplaythrough', function (e) {
                        // Audio now playable; play if permissions allow
                        audioElem.play();
                    });
                }
            }


            if (isScrollingBlock) {
                currSchedTextElem.parent('MARQUEE').show();
            }
            currSchedTextElem.show();

            currSchedTextElem.parents('.block-scheduledtext').show();
        }
        else {
            if (isScrollingBlock) {
                currSchedTextElem.parent('MARQUEE').hide();
            }
            currSchedTextElem.hide();

            // If the rest were also hidden, hide the block, now
            if (!hasVisibleTxtSiblings) {
                currSchedTextElem.parents('.block-scheduledtext').hide();
            }
        }
    }) // end each


    timerId_checkTextSchedules = setTimeout(function(){
        checkTextSchedules();
    }, 60000);

} // end checkTextSchedules()


/**
 * Determine if a schedule is active
 *
 * @param object schedule
 *
 * schedule = {
 *   start_time: "17:00",
 *   end_time: "23:00",
 *   days: [0,1,2]
 * }
 *
 *
 * Schedule keys:
 *
 *   occurrence_type: "weekly" | "monthly" | "between" (unset = weekly)
 *
 *   occurrence_day: integer 1 - 31 (n/a unless "monthly" type)
 *
 *   occurrence_start: "Mmm dd" (e.g., Aug 7 or Sep 21, n/a unless "between")
 *   occurrence_end: "Mmm dd" (n/a unless "between")
 *
 *   start_time: "HH:MM",
 *   end_time: "HH:MM",
 *   days: Array of integers 0 - 6 (representing applicable days of the week, no days = All Days)
 *
 * }
 *
 * @return bool
 */
function isScheduleActive(schedule)
{
    let is_active = false;
    let is_active_dow_and_time = false;

    let now = new Date();
    // Convert milliseconds to seconds
    let now_ts = Math.floor(now.getTime() / 1000);

    let start_hourAndMin, end_hourAndMin;
    switch (schedule.start_time_type) {
        case 'sunrise': start_hourAndMin = getSunriseTime(); break;
        case 'sunset': start_hourAndMin = getSunsetTime(); break;

        case 'time':
        default:
            start_hourAndMin = schedule.start_time;
    }
    switch (schedule.end_time_type) {
        case 'sunrise': end_hourAndMin = getSunriseTime(); break;
        case 'sunset': end_hourAndMin = getSunsetTime(); break;

        case 'time':
        default:
            end_hourAndMin = schedule.end_time;
    }


    let start_time = start_hourAndMin.split(":");
    let start_time_date = new Date;
    start_time_date.setHours(start_time[0], start_time[1], 0);
    let start_time_ts = Math.floor(
        start_time_date.getTime() / 1000
    );

    let end_time = end_hourAndMin.split(":");
    let end_time_date = new Date;
    end_time_date.setHours(end_time[0], end_time[1], 0);
    let end_time_ts = Math.floor(
        end_time_date.getTime() / 1000
    );

    // console.log('Checking schedule...' + schedule.id + ' / ' + schedule.occurrence_type);

    // Loops into next day
    if (start_time_ts > end_time_ts) {
        // Ie. sched is 17:00-04:00, currently 17:00-23:59
        if (now_ts > start_time_ts) {
            end_time_ts += 86400;
        }
        // Ie. sched is 17:00-04:00, currently 00:00-04:00
        else {
            start_time_ts -= 86400;
        }
    }

    // If no days, check the time
    if ( ! Array.isArray(schedule.days)) {
        if ((now_ts >= start_time_ts && now_ts < end_time_ts) || start_time_ts == end_time_ts) {
            is_active_dow_and_time = true;
        }
    }
    // Day(s) set, check the day and time
    else if (schedule.days.indexOf(now.getDay().toString()) != -1) {
        if ((now_ts >= start_time_ts && now_ts < end_time_ts) || start_time_ts == end_time_ts) {
            is_active_dow_and_time = true;
        }
    }

    is_active = is_active_dow_and_time;

    // If it's an an active time and DoW window...
    if (is_active) {

        // If it's NOT a weekly (or defaulted weekly) block schedule,
        // check if it meets the remaining criteria
        //
        if ((typeof (schedule.occurrence_type) !== 'undefined') && (schedule.occurrence_type !== 'weekly')) {

            // If it's Monthly, does it fall on the correct day?
            if (schedule.occurrence_type === 'monthly') {
                let occurrenceDayNum = parseInt(schedule.occurrence_day, 10);
                // Not the same day?
                if (now.getDate() !== occurrenceDayNum) {
                    // Probably false, however, if the current month is shorter than the requested number of days,
                    // check if it should pass as the "last day of the month"
                    let monthCheck = new Date;
                    monthCheck.setMonth(now.getMonth() + 1);
                    monthCheck.setDate(0);
                    let numDaysInMonth = monthCheck.getDate();
                    is_active = ((numDaysInMonth < occurrenceDayNum) && (now.getDate() == numDaysInMonth));
                }
                // Otherwise, it's the same day num, so leave true/on
            }
            else if (schedule.occurrence_type === 'between') {
                const monthNamesToNum = {Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11};

                let validRange_min = new Date;
                let validRange_max = new Date;
                let validRange_minDayNum = parseInt(schedule.occurrence_start.substr(4), 10);
                let validRange_minMonthNum = monthNamesToNum[schedule.occurrence_start.substr(0,3)];
                let validRange_maxDayNum = parseInt(schedule.occurrence_end.substr(4), 10);
                let validRange_maxMonthNum = monthNamesToNum[schedule.occurrence_end.substr(0,3)];

                validRange_min.setMonth(validRange_minMonthNum);
                validRange_min.setDate(validRange_minDayNum);
                validRange_min.setHours(0,0,0);
                // When months are shorter than the requested day (i.e., Feb 28 vs 29), it flips to the next month...
                if (validRange_min.getMonth() !== validRange_minMonthNum) {
                    // Back it up to the day before the 1st (i.e., the last day of the month)
                    validRange_min.setDate(0);
                }

                validRange_max.setMonth(validRange_maxMonthNum)
                validRange_max.setDate(validRange_maxDayNum);
                validRange_max.setHours(23,59,59);
                if (validRange_max.getMonth() !== validRange_maxMonthNum) {
                    // Back it up to the day before the 1st
                    validRange_max.setDate(0);
                }


                // If dates are flipped, look ahead (or behind) through that time next (or last) year
                if (validRange_min.getTime() > validRange_max.getTime()) {
                    // "Now" is ahead (next month, or same month but later (or same) day)?
                    if (
                        (now.getMonth() > validRange_min.getMonth())
                        ||
                        ((now.getMonth() === validRange_min.getMonth())
                            && (now.getDay() >= validRange_min.getDay()))
                    ) {
                        validRange_max.setYear(now.getFullYear() + 1);
                    } else {
                        validRange_min.setYear(now.getFullYear() - 1);
                    }
                }

                let validRange_min_ts = Math.floor(validRange_min.getTime() / 1000);
                let validRange_max_ts = Math.floor(validRange_max.getTime() / 1000);

                is_active = ((now_ts >= validRange_min_ts) && (now_ts < validRange_max_ts));

                // console.log('min:' + validRange_min.toDateString() + ' thru ' + validRange_max.toDateString() + ' => ' + is_active);
            }
        }
    }
    // Otherwise, it's not in an active window anyway, skip further processing and leave false/off


    return is_active;
}
</script><div id="screen-container-no-edit" class="font-large">
	
	<a target="_top" href="https://dakboard.com/screens" class="options-link xsmall dark" style="opacity: 1;">
		<span class="fas fa-cog"></span>&nbsp;&nbsp;<span class="options-desc font-light">Options</span>
	</a>
    	<script>
		blocks['5db5c52136984f0be0744b62'] = {
			type: 'calendar',
			is_active: true,
			schedules: [ {"id":"8924b7","occurrence_type":"weekly","occurrence_day":"2","occurrence_start":"Oct 2","occurrence_end":"Oct 2","days":["1","2","3","4","5","6"],"start_time_type":"time","start_time":"0:00","end_time_type":"time","end_time":"0:00"},
			],
            audio_notif_timers: [],
		}
	</script>

	
            <div class="block calendar block-calendar align-left text-left block-font-medium " id="5db5c52136984f0be0744b62" style="--block-width: 100%; --block-height: 39.92510416666667%; --block-x: 0%; --block-y: 53.76887762988056%; top: var(--block-y); left: var(--block-x); width: var(--block-width); height: var(--block-height); z-index: 114; backdrop-filter: blur(0px); --block-width-px: 1705.33px; --block-height-px: 422.406px; --block-x-px: 0px; --block-y-px: 568.8646240234375px;">
                			<div class="calendar">
<table class="calendar-monthly-big  with-week-nums ">
	<thead>
		
		
	</thead>
	<tbody>
    <tr>
				<th></th>
						<th><div class="event-date ">Man</div></th>
		<th><div class="event-date ">Tir</div></th>
		<th><div class="event-date ">Ons</div></th>
		<th><div class="event-date ">Tor</div></th>
		<th><div class="event-date ">Fre</div></th>
		<th class="weekend"><div class="event-date ">Lør</div></th>
				<th class="weekend"><div class="event-date ">Søn</div></th>
			</tr>
	<tr><td class="weeknum">12</td><td class="month-current  other-month-day "><div class="event-day "><div class="event-date today">Mar</div>    <div class="day-forecast">
        </div>
    <ul>
        <li class="event-container " data-source-cal="ida.munkeby@gmail.com" data-source-event="_6p1j8gpn8d1j0ba16d344b9k6t1j8ba26p0k6b9p8l0jcc9i6l0k2hhl6k">

			<span data-source-cal="ida.munkeby@gmail.com" class="fa-fw far fa-female event-icon-" style="display:inline-block; vertical-align: top; padding-right:2px; margin-bottom:-0.5em; color:#9e69af;">&nbsp;</span>&nbsp;<span class="time-val isPM  is24 "><span class="hour-val">15</span><span class="minute-val">50</span><span class="meridiem"></span></span> <span class="summary-text">Trening mandag</span>             <div class="location">
				&nbsp;&nbsp;<small><span class="far fa-arrow-right"></span></small> <span class="time-val isPM  is24 "><span class="hour-val">18</span><span class="minute-val">30</span><span class="meridiem"></span></span>             </div>
        </li>

		
        <li class="event-container " data-source-cal="markus.munkeby@gmail.com" data-source-event="_68s32ea468q34b9h8p334b9k88s4ab9o8h242b9o6t1jecq28gsjaea560">

			<span data-source-cal="markus.munkeby@gmail.com" class="fa-fw far fa-child event-icon-" style="display:inline-block; vertical-align: top; padding-right:2px; margin-bottom:-0.5em; color:#f09300;">&nbsp;</span>&nbsp;<span class="time-val isPM  is24 "><span class="hour-val">19</span><span class="minute-val">15</span><span class="meridiem"></span></span> <span class="summary-text">Håndballtrening</span>             <div class="location">
				&nbsp;&nbsp;<small><span class="far fa-arrow-right"></span></small> <span class="time-val isPM  is24  top-of-hour "><span class="hour-val">21</span><span class="minute-val">00</span><span class="meridiem"></span></span>             </div>
        </li>

		</ul></div></td><td class="month-current  other-month-day "><div class="event-day "><div class="event-date ">18</div>    <div class="day-forecast">
        </div>
    <ul>
        <li class="event-container " data-source-cal="ida.munkeby@gmail.com" data-source-event="_8oq38c9i70s42b9n84q30b9k6d2k6b9o692jcb9k6kq4adq274q4cc1l8g">

			<span data-source-cal="ida.munkeby@gmail.com" class="fa-fw far fa-female event-icon-" style="display:inline-block; vertical-align: top; padding-right:2px; margin-bottom:-0.5em; color:#9e69af;">&nbsp;</span>&nbsp;<span class="time-val isPM  is24 "><span class="hour-val">17</span><span class="minute-val">20</span><span class="meridiem"></span></span> <span class="summary-text">Trening tirsdag</span>             <div class="location">
				&nbsp;&nbsp;<small><span class="far fa-arrow-right"></span></small> <span class="time-val isPM  is24 "><span class="hour-val">21</span><span class="minute-val">30</span><span class="meridiem"></span></span>             </div>
        </li>

		
        <li class="event-container " data-source-cal="lenebu@gmail.com" data-source-event="_89336gph6kp4cb9m890jeb9k88qkab9p8gp42b9h8ks36dpp74rk4c1o8o">

			<span data-source-cal="lenebu@gmail.com" class="event-bullet event-" style="margin-top: 0.2em; vertical-align:top; background-color:#7cb342"></span>&nbsp;<span class="time-val isPM  is24  top-of-hour "><span class="hour-val">18</span><span class="minute-val">00</span><span class="meridiem"></span></span> <span class="summary-text">Spise med omsorgstem </span>             <div class="location">
				&nbsp;&nbsp;<small><span class="far fa-arrow-right"></span></small> <span class="time-val isPM  is24  top-of-hour "><span class="hour-val">20</span><span class="minute-val">00</span><span class="meridiem"></span></span>             </div>
        </li>

		
        <li class="event-container " data-source-cal="markus.munkeby@gmail.com" data-source-event="_88p3ida16d244b9i6gq48b9k612j8b9o6h1jab9g64qk6c1j8h0jch1m6s_20250318T170000Z">

			<span data-source-cal="markus.munkeby@gmail.com" class="fa-fw far fa-child event-icon-" style="display:inline-block; vertical-align: top; padding-right:2px; margin-bottom:-0.5em; color:#f09300;">&nbsp;</span>&nbsp;<span class="time-val isPM  is24  top-of-hour "><span class="hour-val">18</span><span class="minute-val">00</span><span class="meridiem"></span></span> <span class="summary-text">Gnist </span>             <div class="location">
				&nbsp;&nbsp;<small><span class="far fa-arrow-right"></span></small> <span class="time-val isPM  is24  top-of-hour "><span class="hour-val">20</span><span class="minute-val">00</span><span class="meridiem"></span></span>             </div>
        </li>

		
        <li class="event-container " data-source-cal="markus.munkeby@gmail.com" data-source-event="_8cpj2c1p88p46ba26grj6b9k60pk2b9p8l0j2ba36p14cdq38cp48cpg84">

			<span data-source-cal="markus.munkeby@gmail.com" class="fa-fw far fa-child event-icon-" style="display:inline-block; vertical-align: top; padding-right:2px; margin-bottom:-0.5em; color:#f09300;">&nbsp;</span>&nbsp;<span class="time-val isPM  is24 "><span class="hour-val">19</span><span class="minute-val">15</span><span class="meridiem"></span></span> <span class="summary-text">Trening VHK G2008</span>             <div class="location">
				&nbsp;&nbsp;<small><span class="far fa-arrow-right"></span></small> <span class="time-val isPM  is24  top-of-hour "><span class="hour-val">21</span><span class="minute-val">00</span><span class="meridiem"></span></span>             </div>
        </li>

		
        <li class="event-container " data-source-cal="markus.munkeby@gmail.com" data-source-event="_8d2j0ga664qj8b9o70s3ib9k64pk2ba2612j8ba364o44e1k6h0jae246c">

			<span data-source-cal="markus.munkeby@gmail.com" class="fa-fw far fa-child event-icon-" style="display:inline-block; vertical-align: top; padding-right:2px; margin-bottom:-0.5em; color:#f09300;">&nbsp;</span>&nbsp;<span class="time-val isPM  is24 "><span class="hour-val">20</span><span class="minute-val">15</span><span class="meridiem"></span></span> <span class="summary-text">Håndballtrening</span>             <div class="location">
				&nbsp;&nbsp;<small><span class="far fa-arrow-right"></span></small> <span class="time-val isPM  is24  top-of-hour "><span class="hour-val">22</span><span class="minute-val">00</span><span class="meridiem"></span></span>             </div>
        </li>

		</ul></div></td><td class="month-current  other-month-day "><div class="event-day "><div class="event-date ">19</div>    <div class="day-forecast">
        </div>
    <ul>
        <li class="event-container " data-source-cal="espenrydningen@gmail.com" data-source-event="_8kr4ch1l6h1j0b9j88s48b9k6krj2ba174qjgba56h1kcgi46p334ea470">

			<span data-source-cal="espenrydningen@gmail.com" class="event-bullet event-" style="margin-top: 0.2em; vertical-align:top; background-color:#d50000"></span>&nbsp;<span class="time-val isAM  is24  top-of-hour "><span class="hour-val">09</span><span class="minute-val">00</span><span class="meridiem"></span></span> <span class="summary-text">Frisør</span>             <div class="location">
				&nbsp;&nbsp;<small><span class="far fa-arrow-right"></span></small> <span class="time-val isAM  is24  top-of-hour "><span class="hour-val">10</span><span class="minute-val">00</span><span class="meridiem"></span></span>             </div>
        </li>

		
        <li class="event-container " data-source-cal="ida.munkeby@gmail.com" data-source-event="_74s3ggq68d1k6ba66h1k4b9k6gp3eba26kok6b9p84pkahho71136c9l88_20250319T174500Z">

			<span data-source-cal="ida.munkeby@gmail.com" class="fa-fw far fa-female event-icon-" style="display:inline-block; vertical-align: top; padding-right:2px; margin-bottom:-0.5em; color:#9e69af;">&nbsp;</span>&nbsp;<span class="time-val isPM  is24 "><span class="hour-val">18</span><span class="minute-val">45</span><span class="meridiem"></span></span> <span class="summary-text">Musikalfabrikken - Ida - Tingeling </span>             <div class="location">
				&nbsp;&nbsp;<small><span class="far fa-arrow-right"></span></small> <span class="time-val isPM  is24 "><span class="hour-val">20</span><span class="minute-val">15</span><span class="meridiem"></span></span>             </div>
        </li>

		
        <li class="event-container " data-source-cal="markus.munkeby@gmail.com" data-source-event="_8p0j2ghi6so3gba360p48b9k6cr32ba160pjgb9k8grjcdpj8koj6e2364">

			<span data-source-cal="markus.munkeby@gmail.com" class="fa-fw far fa-child event-icon-" style="display:inline-block; vertical-align: top; padding-right:2px; margin-bottom:-0.5em; color:#f09300;">&nbsp;</span>&nbsp;<span class="time-val isPM  is24 "><span class="hour-val">20</span><span class="minute-val">20</span><span class="meridiem"></span></span> <span class="summary-text">Trening VHK G2008</span>             <div class="location">
				&nbsp;&nbsp;<small><span class="far fa-arrow-right"></span></small> <span class="time-val isPM  is24  top-of-hour "><span class="hour-val">22</span><span class="minute-val">00</span><span class="meridiem"></span></span>             </div>
        </li>

		</ul></div></td><td class="month-current  other-month-day "><div class="event-day "><div class="event-date ">20</div>    <div class="day-forecast">
        </div>
    <ul>
        <li class="event-container  event-all-day event-#d50000 " style="background-color: #d50000" data-source-cal="espenrydningen@gmail.com" data-source-event="2sn7f8cdjk575ibutr4kbihs6j">

			 <span class="summary-text">MPC Ex-day</span>             <div class="location">
				            </div>
        </li>

		
        <li class="event-container " data-source-cal="markus.munkeby@gmail.com" data-source-event="_69134hhh6oo32b9m6ssjeb9k890k2ba26d0jeb9g84p4cc1n7134cd238o_20250320T183000Z">

			<span data-source-cal="markus.munkeby@gmail.com" class="fa-fw far fa-child event-icon-" style="display:inline-block; vertical-align: top; padding-right:2px; margin-bottom:-0.5em; color:#f09300;">&nbsp;</span>&nbsp;<span class="time-val isPM  is24 "><span class="hour-val">19</span><span class="minute-val">30</span><span class="meridiem"></span></span> <span class="summary-text">Musikalfabrikken Tuv Senior</span>             <div class="location">
				&nbsp;&nbsp;<small><span class="far fa-arrow-right"></span></small> <span class="time-val isPM  is24 "><span class="hour-val">21</span><span class="minute-val">30</span><span class="meridiem"></span></span>             </div>
        </li>

		
        <li class="event-container " data-source-cal="markus.munkeby@gmail.com" data-source-event="_84qk2cpn6sq4aba260pj2b9k6cs32ba164ojeb9j8cp3acq28orj2gi18o">

			<span data-source-cal="markus.munkeby@gmail.com" class="fa-fw far fa-child event-icon-" style="display:inline-block; vertical-align: top; padding-right:2px; margin-bottom:-0.5em; color:#f09300;">&nbsp;</span>&nbsp;<span class="time-val isPM  is24 "><span class="hour-val">20</span><span class="minute-val">15</span><span class="meridiem"></span></span> <span class="summary-text">Håndballtrening</span>             <div class="location">
				&nbsp;&nbsp;<small><span class="far fa-arrow-right"></span></small> <span class="time-val isPM  is24  top-of-hour "><span class="hour-val">22</span><span class="minute-val">00</span><span class="meridiem"></span></span>             </div>
        </li>

		</ul></div></td><td class="month-current  other-month-day "><div class="event-day "><div class="event-date ">21</div>    <div class="day-forecast">
        </div>
    <ul>
        <li class="event-container  event-all-day event-#9e69af " style="background-color: #9e69af" data-source-cal="ida.munkeby@gmail.com" data-source-event="_70sk6gph752k2ba28gr3eb9k8cpjeb9o6srj2b9m8h336gq56h0k8dhm60">

			
                    <span class="fa-fw far fa-female"></span>&nbsp;

					 <span class="summary-text">3. Norgescup Int. klasser</span>             <div class="location">
				            </div>
        </li>

		
        <li class="event-container  event-all-day event-#9e69af " style="background-color: #9e69af" data-source-cal="ida.munkeby@gmail.com" data-source-event="_6d2j0gpm60o46ba26913ab9k6sq4aba28gok6b9i70r4cgpl68ok8dhm6s">

			
                    <span class="fa-fw far fa-female"></span>&nbsp;

					<span class="time-val isPM  is24  top-of-hour "><span class="hour-val">17</span><span class="minute-val">00</span><span class="meridiem"></span></span> <span class="summary-text">NC Cup 3  Straen</span>             <div class="location">
				            </div>
        </li>

		
        <li class="event-container " data-source-cal="ida.munkeby@gmail.com" data-source-event="_6d1jecpp6d33aba2752k2b9k74oj4ba26sq46b9m64o30chg8p1jighj60">

			<span data-source-cal="ida.munkeby@gmail.com" class="fa-fw far fa-female event-icon-" style="display:inline-block; vertical-align: top; padding-right:2px; margin-bottom:-0.5em; color:#9e69af;">&nbsp;</span>&nbsp;<span class="time-val isPM  is24 "><span class="hour-val">13</span><span class="minute-val">35</span><span class="meridiem"></span></span> <span class="summary-text">Din flygning [fr 21 mar 2025], Bestilling :[QJR3KO]</span>             <div class="location">
				&nbsp;&nbsp;<small><span class="far fa-arrow-right"></span></small> <span class="time-val isPM  is24 "><span class="hour-val">15</span><span class="minute-val">05</span><span class="meridiem"></span></span>             </div>
        </li>

		
        <li class="event-container " data-source-cal="markus.munkeby@gmail.com" data-source-event="_60rjidpl8p0k6b9h6kq4ab9k8goj8b9o88o36b9g8p1jghhg70qj2cpg8c">

			<span data-source-cal="markus.munkeby@gmail.com" class="fa-fw far fa-child event-icon-" style="display:inline-block; vertical-align: top; padding-right:2px; margin-bottom:-0.5em; color:#f09300;">&nbsp;</span>&nbsp;<span class="time-val isPM  is24 "><span class="hour-val">16</span><span class="minute-val">30</span><span class="meridiem"></span></span> <span class="summary-text">Øving med Musikalsolistene </span>             <div class="location">
				&nbsp;&nbsp;<small><span class="far fa-arrow-right"></span></small> <span class="time-val isPM  is24 "><span class="hour-val">21</span><span class="minute-val">30</span><span class="meridiem"></span></span>             </div>
        </li>

		</ul></div></td><td class="weekend month-current  other-month-day "><div class="event-day "><div class="event-date ">22</div>    <div class="day-forecast">
        </div>
    <ul>
        <li class="event-container  event-all-day event-#7cb342 " style="background-color: #7cb342" data-source-cal="lenebu@gmail.com" data-source-event="_70rjihi58kq3eb9n8h1jgb9k6sp48ba260r3gb9k6d1j0hhi64o3egpk8k">

			 <span class="summary-text">Lunsj med Marie, Camilla og Siri M</span>             <div class="location">
				            </div>
        </li>

		
        <li class="event-container  event-all-day event-#9e69af " style="background-color: #9e69af" data-source-cal="ida.munkeby@gmail.com" data-source-event="_70sk6gph752k2ba28gr3eb9k8cpjeb9o6srj2b9m8h336gq56h0k8dhm60">

			
                    <span class="fa-fw far fa-female"></span>&nbsp;

					 <span class="summary-text">3. Norgescup Int. klasser</span>             <div class="location">
				            </div>
        </li>

		
        <li class="event-container  event-all-day event-#9e69af " style="background-color: #9e69af" data-source-cal="ida.munkeby@gmail.com" data-source-event="_6d2j0gpm60o46ba26913ab9k6sq4aba28gok6b9i70r4cgpl68ok8dhm6s">

			
                    <span class="fa-fw far fa-female"></span>&nbsp;

					 <span class="summary-text">NC Cup 3  Straen</span>             <div class="location">
				            </div>
        </li>

		
        <li class="event-container  event-all-day event-#f09300 " style="background-color: #f09300" data-source-cal="markus.munkeby@gmail.com" data-source-event="_8d0k8ha1611k6b9i74q30b9k88r3gb9p6h33ab9o852j6ci188p3ih218g">

			
                    <span class="fa-fw far fa-child"></span>&nbsp;

					 <span class="summary-text">DUS festival</span>             <div class="location">
				            </div>
        </li>

		</ul></div></td><td class="weekend month-current  other-month-day "><div class="event-day "><div class="event-date ">23</div>    <div class="day-forecast">
        </div>
    <ul>
        <li class="event-container  event-all-day event-#f09300 " style="background-color: #f09300" data-source-cal="markus.munkeby@gmail.com" data-source-event="_6cs48c24751kab9i6l1j4b9k60ojcb9p88pj4b9n8cqk4ha38op3gc9l6o">

			
                    <span class="fa-fw far fa-child"></span>&nbsp;

					 <span class="summary-text">Audition - Shrek </span>             <div class="location">
				            </div>
        </li>

		
        <li class="event-container  event-all-day event-#9e69af " style="background-color: #9e69af" data-source-cal="ida.munkeby@gmail.com" data-source-event="_70sk6gph752k2ba28gr3eb9k8cpjeb9o6srj2b9m8h336gq56h0k8dhm60">

			
                    <span class="fa-fw far fa-female"></span>&nbsp;

					 <span class="summary-text">3. Norgescup Int. klasser</span>             <div class="location">
				            </div>
        </li>

		
        <li class="event-container  event-all-day event-#f09300 " style="background-color: #f09300" data-source-cal="markus.munkeby@gmail.com" data-source-event="_8d0k8ha1611k6b9i74q30b9k88r3gb9p6h33ab9o852j6ci188p3ih218g">

			
                    <span class="fa-fw far fa-child"></span>&nbsp;

					 <span class="summary-text">DUS festival</span>             <div class="location">
				            </div>
        </li>

		
        <li class="event-container  event-all-day event-#9e69af " style="background-color: #9e69af" data-source-cal="ida.munkeby@gmail.com" data-source-event="_6d2j0gpm60o46ba26913ab9k6sq4aba28gok6b9i70r4cgpl68ok8dhm6s">

			
                    <span class="fa-fw far fa-female"></span>&nbsp;

					 <span class="summary-text">NC Cup 3  Straen</span>             <div class="location">
				&nbsp;&nbsp;<small><span class="far fa-arrow-right"></span></small> <span class="time-val isPM  is24  top-of-hour "><span class="hour-val">18</span><span class="minute-val">00</span><span class="meridiem"></span></span>             </div>
        </li>

		
        <li class="event-container " data-source-cal="ida.munkeby@gmail.com" data-source-event="_68sjghi575248ba26l1jgb9k6sq30b9o84q34ba28op42e9k64sk8dq66k">

			<span data-source-cal="ida.munkeby@gmail.com" class="fa-fw far fa-female event-icon-" style="display:inline-block; vertical-align: top; padding-right:2px; margin-bottom:-0.5em; color:#9e69af;">&nbsp;</span>&nbsp;<span class="time-val isPM  is24 "><span class="hour-val">16</span><span class="minute-val">20</span><span class="meridiem"></span></span> <span class="summary-text">Trening søndag</span>             <div class="location">
				&nbsp;&nbsp;<small><span class="far fa-arrow-right"></span></small> <span class="time-val isPM  is24 "><span class="hour-val">20</span><span class="minute-val">30</span><span class="meridiem"></span></span>             </div>
        </li>

		
        <li class="event-container " data-source-cal="ida.munkeby@gmail.com" data-source-event="_8d14cc1o68rjgba564q3ib9k850k4b9p6h1j0ba48gpjce1o84okcdpj68">

			<span data-source-cal="ida.munkeby@gmail.com" class="fa-fw far fa-female event-icon-" style="display:inline-block; vertical-align: top; padding-right:2px; margin-bottom:-0.5em; color:#9e69af;">&nbsp;</span>&nbsp;<span class="time-val isPM  is24 "><span class="hour-val">21</span><span class="minute-val">20</span><span class="meridiem"></span></span> <span class="summary-text">Din flygning [fr 21 mar 2025], Bestilling :[QJR3KO]</span>             <div class="location">
				&nbsp;&nbsp;<small><span class="far fa-arrow-right"></span></small> <span class="time-val isPM  is24 "><span class="hour-val">22</span><span class="minute-val">30</span><span class="meridiem"></span></span>             </div>
        </li>

		</ul></div></td></tr>
	</tbody>
	
	
	
</table>




<script>
$(function () {
    let calTable = $('#5db5c52136984f0be0744b62 TABLE.calendar-monthly-big');

    $.each(calTable.find('TR'), function (idx, rowElem) {
            });
});
</script></div></div>

		    <script>
var debuggingAudioNotif = false;

$('#5db5c52136984f0be0744b62').append(
    // '<div class="cal-gradient-overlay"></div>'+ // TODO: Consider if we want to add and tweak this to allow a gradient on an editable calendar block
	'<div class="calendar"><div class="text-center" style="margin-top: 3em; color: rgba(255,255,255,.35);">'+
	'Laster&nbsp;Kalender...'+
	'</div></div>'
);

function addAudioNotifTimer5db5c52136984f0be0744b62(millisecsBeforeAlert, audioName, eventUid, eventName)
{
    let timerId;

    debuggingAudioNotif && console.log('addAudioNotifTimer for ' + eventName + ' (' + eventUid + ') in ' + parseFloat(millisecsBeforeAlert/1000/60).toFixed(2) + ' mins');

    if (typeof (contentExpiration) !== 'undefined') {
        // Skip if beyond current content expiration, or is in the past
        if ((parseInt(millisecsBeforeAlert, 10) > 0)
            && (contentExpiration > (Date.now() + parseInt(millisecsBeforeAlert, 10)))) {
            timerId = setTimeout(function () {
                    $('#5db5c52136984f0be0744b62').trigger(
                        'dak.calendar.event.notification',
                        {
                            audio: audioName,
                            eventUid: eventUid,
                            eventName: eventName,
                        }
                    );
                },
                millisecsBeforeAlert
            );

            debuggingAudioNotif && console.log('timerID:' + timerId);

            // Add the timer id to the list
            blocks['5db5c52136984f0be0744b62'].audio_notif_timers.push(timerId);
        } else {
            debuggingAudioNotif && console.log('Skipping as outside of useful time range');
        }
    } else {
        debuggingAudioNotif && console.log('Skipping as not on Screen view');
    }
}

function clearAudioNotifTimers5db5c52136984f0be0744b62()
{
    $.each(blocks['5db5c52136984f0be0744b62'].audio_notif_timers, function (key, val) { clearTimeout(val); });
    blocks['5db5c52136984f0be0744b62'].audio_notif_timers = [];
}

// Handler for Event Notifications (Audio Alerts)
$('#5db5c52136984f0be0744b62').on('dak.calendar.event.notification', function (e, data) {
    debuggingAudioNotif && console.log('notification fired for: ' + data.eventName + ' (' + data.eventUid + ')');

    // Block is active and this is an audio notification...
    //
    if (blocks[$(this).attr('id')].is_active && data.audio) {
        // Create an Audio Elem and play the selected clip
        let audioElem = new Audio('https://static.dakboard.com/assets/audio/' + data.audio);
        audioElem.addEventListener('canplaythrough', function (e) {
            // Audio now playable; play if permissions allow
            audioElem.play();
        });
    }
});


function update5db5c52136984f0be0744b62() {
	
	if (blocks['5db5c52136984f0be0744b62'].is_active) {
        clearAudioNotifTimers5db5c52136984f0be0744b62();
		$('#5db5c52136984f0be0744b62 .calendar').load("/screen/ce47bacef4f5/block/5db5c52136984f0be0744b62");
	}
	
	    clearTimeout(timers['5db5c52136984f0be0744b62']);

    timers['5db5c52136984f0be0744b62'] = setTimeout(function() {
		update5db5c52136984f0be0744b62();
	}, 1800000 + Math.floor((Math.random() * 5000) + 1));
}

setTimeout(function() {
	update5db5c52136984f0be0744b62();
}, Math.floor((Math.random() * 5000) + 1));

</script>	<script>
		blocks['5db5c6210f6c133190289948'] = {
			type: 'datetime',
			is_active: true,
			schedules: [ {"id":"436c0d","occurrence_type":"weekly","occurrence_day":"2","occurrence_start":"Oct 2","occurrence_end":"Oct 2","start_time_type":"time","start_time":"0:00","end_time_type":"time","end_time":"0:00"},
			],
            audio_notif_timers: [],
		}
	</script>

	
            <div class="block datetime block-datetime align-left text-left block-font-large " id="5db5c6210f6c133190289948" style="--block-width: 92.45222222222222%; --block-height: 12.613958333333331%; --block-x: 0%; --block-y: -0.006510887616946372%; top: var(--block-y); left: var(--block-x); width: var(--block-width); height: var(--block-height); color: rgb(255, 255, 255); z-index: 117; --block-width-px: 1576.61px; --block-height-px: 133.448px; --block-x-px: 0px; --block-y-px: -0.0625px;">
<div class="clock text-left">
		
		<div class="time large" id="time-5db5c6210f6c133190289948">11:05<span class="sec">14</span></div>

		
	
	<div class="date " id="date-5db5c6210f6c133190289948"><div class="month">mandag 17. mars</div></div>
	
	
	
	<div style="clear: both;"></div>
</div>

<script>
function updateTime5db5c6210f6c133190289948() {
	var settings = {
		_id: "5db5c6210f6c133190289948",
		timeFormat: 24,
		dateFormat: "dddd D. MMMM",
        isCustomFormat: 0,
		clockType: "digital",
		timezone: "Europe/Oslo",
		showSeconds: "1",
		showAmpm: "0"
	};
	
	var now = moment().tz(settings.timezone);
			
	if (settings.clockType == 'analog' || settings.clockType == 'analog-no-sec') {
		var second = now.seconds() * 6,
            minute = now.minutes() * 6 + second / 60,
            hour = ((now.hours() % 12) / 12) * 360 + 90 + minute / 12;

        $('#' + settings._id + ' #hour').css("transform", "rotate(" + hour + "deg)");
        $('#' + settings._id + ' #minute').css("transform", "rotate(" + minute + "deg)");
        $('#' + settings._id + ' #second').css("transform", "rotate(" + second + "deg)");
	}
	else {
		$('#time-' + settings._id).html(
			now.format(
				((settings.timeFormat == 12) ? 'h' : 'HH') + ':mm'
			) 
			// Show/hide the seconds
			+ ((settings.showSeconds == 1 || settings.showSeconds == '') ? '<span class="sec">' + now.format('ss') + '</span>' : '')
			// Show/hide AM/PM
			+ ((settings.showAmpm == 1) ? '<span class="time-ampm" style="'+((settings.showSeconds == 1) ? 'left:-1.4em' : '')+'">' + now.format('A') + '</span>' : '')
		);
	}

	if (settings.isCustomFormat) {
        $('#date-' + settings._id).html('<div class="custom-date-format">' + now.format(settings.dateFormat) + '</div>');
    }
	else if (settings.dateFormat == 'D MMMM') {
		$('#date-'+settings._id).html('<div class="day-of-week">' + now.format('dddd,') + '</div><div class="month">' + now.format('D MMMM') + '</div>');
	} 
	else if (settings.dateFormat == 'MMMM D') {
		$('#date-' + settings._id).html('<div class="day-of-week">' + now.format('dddd,') + '</div><div class="month">' + now.format('MMMM D') + '</div>');
	}
	else if (settings.dateFormat == 'dddd D. MMMM') {
		$('#date-' + settings._id).html('<div class="month">' + now.format('dddd D. MMMM') + '</div>');
	}
	else if (settings.dateFormat == 'dddd D MMMM') {
		$('#date-' + settings._id).html('<div class="month">' + now.format('dddd D MMMM') + '</div>');
	} else {
	    // Leave a fallback format, MMMM D
        $('#date-'+settings._id).html('<div class="day-of-week">' + now.format('dddd,') + '</div><div class="month">' + now.format('D MMMM') + '</div>');
    }
	
	setTimeout(function() {
		updateTime5db5c6210f6c133190289948();
	}, 1000);
}

updateTime5db5c6210f6c133190289948();
</script></div>

		    <script>
$('#5db5c6210f6c133190289948').load("/screen/ce47bacef4f5/block/5db5c6210f6c133190289948");
</script>	<script>
		blocks['5db5cbfbf62f5962836bbad2'] = {
			type: 'weather',
			is_active: true,
			schedules: [ {"id":"31e9ca","occurrence_type":"weekly","occurrence_day":"2","occurrence_start":"Oct 2","occurrence_end":"Oct 2","start_time_type":"time","start_time":"0:00","end_time_type":"time","end_time":"0:00"},
			],
            audio_notif_timers: [],
		}
	</script>

	
            <div class="block weather block-weather align-right text-right block-font-medium " id="5db5cbfbf62f5962836bbad2" style="--block-width: 61.343888888888884%; --block-height: 9.145677083333334%; --block-x: 38.65741211691021%; --block-y: 4.322028822369046%; top: var(--block-y); left: var(--block-x); width: var(--block-width); height: var(--block-height); color: rgb(255, 255, 255); z-index: 116; --block-width-px: 1046.11px; --block-height-px: 96.7604px; --block-x-px: 659.2291870117188px; --block-y-px: 45.71875px;">
<div class="weather-horiz">
<div class="weather-container hourly">
	
		<div class="weather-item weather-current">
		<div class="large">
			3<i style="font-style:normal;opacity:.8">°</i>
			<span class="weather-current-icon fal fa-cloud-drizzle" title=""></span> 
		</div>
		
				
			</div>
	
	            <div class="text-center weather-item weather-forecast weather-forecast-8" style="border-left: 1px solid rgba(255,255,255,0.2);">
                <div class="hour">12</div>
                <span class="fas fa-cloud-drizzle medium"></span><br>
                <div class="weather-precipitation">
                                    </div>
                <span class="weather-forecast-item-high">3<i style="font-style:normal;opacity:.6">°</i></span>
            </div>
			            <div class="text-center weather-item weather-forecast weather-forecast-8">
                <div class="hour">13</div>
                <span class="fas fa-cloud-showers medium"></span><br>
                <div class="weather-precipitation">
                                    </div>
                <span class="weather-forecast-item-high">3<i style="font-style:normal;opacity:.6">°</i></span>
            </div>
			            <div class="text-center weather-item weather-forecast weather-forecast-8">
                <div class="hour">14</div>
                <span class="fas fa-cloud-drizzle medium"></span><br>
                <div class="weather-precipitation">
                                    </div>
                <span class="weather-forecast-item-high">4<i style="font-style:normal;opacity:.6">°</i></span>
            </div>
			            <div class="text-center weather-item weather-forecast weather-forecast-8">
                <div class="hour">15</div>
                <span class="fas fa-cloud-drizzle medium"></span><br>
                <div class="weather-precipitation">
                                    </div>
                <span class="weather-forecast-item-high">4<i style="font-style:normal;opacity:.6">°</i></span>
            </div>
			            <div class="text-center weather-item weather-forecast weather-forecast-8">
                <div class="hour">16</div>
                <span class="fas fa-cloud-drizzle medium"></span><br>
                <div class="weather-precipitation">
                                    </div>
                <span class="weather-forecast-item-high">4<i style="font-style:normal;opacity:.6">°</i></span>
            </div>
			            <div class="text-center weather-item weather-forecast weather-forecast-8">
                <div class="hour">17</div>
                <span class="fas fa-wind medium"></span><br>
                <div class="weather-precipitation">
                                    </div>
                <span class="weather-forecast-item-high">4<i style="font-style:normal;opacity:.6">°</i></span>
            </div>
			            <div class="text-center weather-item weather-forecast weather-forecast-8">
                <div class="hour">18</div>
                <span class="fas fa-wind medium"></span><br>
                <div class="weather-precipitation">
                                    </div>
                <span class="weather-forecast-item-high">4<i style="font-style:normal;opacity:.6">°</i></span>
            </div>
			            <div class="text-center weather-item weather-forecast weather-forecast-8">
                <div class="hour">19</div>
                <span class="fas fa-clouds medium"></span><br>
                <div class="weather-precipitation">
                                    </div>
                <span class="weather-forecast-item-high">4<i style="font-style:normal;opacity:.6">°</i></span>
            </div>
			
</div><!-- /weather-container -->



</div><!-- /weather-horiz --></div>

		    <script>
function update5db5cbfbf62f5962836bbad2() {
	if (blocks['5db5cbfbf62f5962836bbad2'].is_active) {
		$('#5db5cbfbf62f5962836bbad2').load("/screen/ce47bacef4f5/block/5db5cbfbf62f5962836bbad2");
	}

    clearTimeout(timers['5db5cbfbf62f5962836bbad2']);

    timers['5db5cbfbf62f5962836bbad2'] = setTimeout(function() {
		update5db5cbfbf62f5962836bbad2();
	}, 1200000); 
}

update5db5cbfbf62f5962836bbad2();
</script>	<script>
		blocks['5dd16c45f62f59399d25d7ac'] = {
			type: 'photos',
			is_active: true,
			schedules: [ {"id":"c3127a","occurrence_type":"weekly","occurrence_day":"12","occurrence_start":"Aug 12","occurrence_end":"Aug 12","start_time_type":"time","start_time":"0:00","end_time_type":"time","end_time":"0:00"},
			],
            audio_notif_timers: [],
		}
	</script>

	
            <div class="block photos block-photos align- text- block-font- " id="5dd16c45f62f59399d25d7ac" style="--block-width: 100%; --block-height: 46.399739583333336%; --block-x: 0%; --block-y: 10.079211658901638%; top: var(--block-y); left: var(--block-x); width: var(--block-width); height: var(--block-height); z-index: 113; --block-width-px: 1705.33px; --block-height-px: 490.906px; --block-x-px: 0px; --block-y-px: 106.63542175292969px;">
                			<div class="abs-zero" style="background: rgba(0,0,0, 0); z-index:16"></div>	<div class="photo-group-1 abs-zero" style="z-index: 15; opacity: 1;">		<div class="photo-group-1-photo abs-zero " style="z-index: 5; background: url(&quot;https://cvws.icloud-content.com/S/AWLHYaD7PPV_qObwJ_cANEzxfi_7/IMG_0122.JPG?o=Ah15yGf1ZV8jwaZt4m4TOG4PxHSAV9fPDVH32RENcGFH&amp;v=1&amp;z=https%3A%2F%2Fp143-content.icloud.com%3A443&amp;x=1&amp;a=CAogI0T9v-18HLjco6-9GDFzlMHDoDhkjUom7ceJENRjGLwSZxC4wrqc2jIYuNnNodoyIgEAUgTxfi_7aiZdmzVbkLwtDFy8x3O_EVIKrC_NHuvHYaZQ7b-dNtkJkfhnwdrOQHImcTdPE-50k48ICxXS56oURjrxqtiU81O8zMVD8pzUlgRvS5YRsL8&amp;e=1742216588&amp;r=2e7ddd11-99de-4293-ac9e-371753d90625-4&amp;s=gUayvnuyjpvylysELSL8sIy6uTk&quot;) center center / contain no-repeat; clip-path: none;"></div>		<div class="photo-group-1-blur abs-zero" style="background: url(&quot;https://cvws.icloud-content.com/S/AWLHYaD7PPV_qObwJ_cANEzxfi_7/IMG_0122.JPG?o=Ah15yGf1ZV8jwaZt4m4TOG4PxHSAV9fPDVH32RENcGFH&amp;v=1&amp;z=https%3A%2F%2Fp143-content.icloud.com%3A443&amp;x=1&amp;a=CAogI0T9v-18HLjco6-9GDFzlMHDoDhkjUom7ceJENRjGLwSZxC4wrqc2jIYuNnNodoyIgEAUgTxfi_7aiZdmzVbkLwtDFy8x3O_EVIKrC_NHuvHYaZQ7b-dNtkJkfhnwdrOQHImcTdPE-50k48ICxXS56oURjrxqtiU81O8zMVD8pzUlgRvS5YRsL8&amp;e=1742216588&amp;r=2e7ddd11-99de-4293-ac9e-371753d90625-4&amp;s=gUayvnuyjpvylysELSL8sIy6uTk&quot;) center center / cover no-repeat; margin: -10px; filter: blur(10px);"></div>	</div>	<div class="photo-group-2 abs-zero" style=" z-index: 15; opacity: 0">		<div class="photo-group-2-photo abs-zero " style="z-index:5; "></div>		<div class="photo-group-2-blur abs-zero"></div>	</div>	<div id="meta5dd16c45f62f59399d25d7ac" class="photo-meta translucent hide">		<div id="owner5dd16c45f62f59399d25d7ac" class="photo-owner xxsmall pull-right"></div>		<div id="title5dd16c45f62f59399d25d7ac" class="photo-title xxsmall pull-left dim"></div>		<div style="clear: both;"></div>	</div>	<div class="block-empty-error" style="display:none; width: 100%; height: 100%; box-sizing: border-box;">    <div class="block-empty-error-icon"><span class="fal fa-images"></span></div>        <span class="block-empty-error-message"></span>    </div>	<div id="progress5dd16c45f62f59399d25d7ac" class="progress-bar hide"></div></div>

		    
<script>
$('#5dd16c45f62f59399d25d7ac').append('<div class="abs-zero" style="background: rgba(0,0,0, 0); z-index:16"></div>\
	<div class="photo-group-1 abs-zero" style=" z-index: 15; opacity: 0;">\
		<div class="photo-group-1-photo abs-zero " style="z-index:5; "></div>\
		<div class="photo-group-1-blur abs-zero"></div>\
	</div>\
	<div class="photo-group-2 abs-zero" style=" z-index: 15; opacity: 0">\
		<div class="photo-group-2-photo abs-zero " style="z-index:5; "></div>\
		<div class="photo-group-2-blur abs-zero"></div>\
	</div>\
	<div id="meta5dd16c45f62f59399d25d7ac" class="photo-meta translucent hide">\
		<div id="owner5dd16c45f62f59399d25d7ac" class="photo-owner xxsmall pull-right"></div>\
		<div id="title5dd16c45f62f59399d25d7ac" class="photo-title xxsmall pull-left dim"></div>\
		<div style="clear: both;"></div>\
	</div>\
	<div class="block-empty-error" style="display:none; width: 100%; height: 100%; box-sizing: border-box;">\
    <div class="block-empty-error-icon"><span class="fal fa-images"></span></div>\
        <span class="block-empty-error-message"></span>\
    </div>\
	<div id="progress5dd16c45f62f59399d25d7ac" class="progress-bar hide"></div>');
	

var cached_photos5dd16c45f62f59399d25d7ac;
var isPhotoTransitioning={};
isPhotoTransitioning['5dd16c45f62f59399d25d7ac'] = false;

function update5dd16c45f62f59399d25d7ac()
{
	let settings = {
		_id: "5dd16c45f62f59399d25d7ac",
		crop: 0,
		blur: 1,
        circle: 0,
		meta: 0,
		useTransitions: 0,
		photoChange: 600000,
	};
	
	// Make sure the photo block is active
	if ( ! blocks['5dd16c45f62f59399d25d7ac'].is_active) {
		// checkBlockSchedules func will reactivate this timer
		/*
		setTimeout(function() {
			updatePhoto5dd16c45f62f59399d25d7ac();
		}, settings.photoChange);
		*/
		return;
	}

	// Determine the current top/bottom layers
	if ($('#' + settings._id + ' .photo-group-1').css('opacity') == 1) {
	//if ($('#' + settings._id + ' .photo-group-1').hasClass('fade-in')) {
		var top = $('#' + settings._id + ' .photo-group-1-photo');
		var bottom = $('#' + settings._id + ' .photo-group-2-photo');
		
		var top_group = $('#' + settings._id + ' .photo-group-1');
		var bottom_group = $('#' + settings._id + ' .photo-group-2');
		
		var blur_top = $('#' + settings._id + ' .photo-group-1-blur');
		var blur_bottom = $('#' + settings._id + ' .photo-group-2-blur');
	}
	else {
		var bottom = $('#' + settings._id + ' .photo-group-1-photo');
		var top = $('#' + settings._id + ' .photo-group-2-photo');
		
		var bottom_group = $('#' + settings._id + ' .photo-group-1');
		var top_group = $('#' + settings._id + ' .photo-group-2');
		
		var blur_bottom = $('#' + settings._id + ' .photo-group-1-blur');
		var blur_top = $('#' + settings._id + ' .photo-group-2-blur');
	}

	//top_group.css({"will-change": "opacity"});
	//bottom_group.css({"will-change": "opacity"});

    //console.log('// - update');

	// Determine if we can use cached content in cached_photos var, or if 
	// data from the server is needed
	if (typeof cached_photos5dd16c45f62f59399d25d7ac !== 'undefined' && cached_photos5dd16c45f62f59399d25d7ac.length > 0){
        //console.log('// - cache len: ' + cached_photos//.length);
		// Use the first elem in the array, then remove it
		doRotation(cached_photos5dd16c45f62f59399d25d7ac[0]);
		cached_photos5dd16c45f62f59399d25d7ac.shift();
	}
	else {
        //console.log('// - Retrieving new list...');
		// Get data from server
		$.getJSON("/screen/ce47bacef4f5/block/5dd16c45f62f59399d25d7ac", getJsonCallback);
	}

	// New data received from server. Determine if
	// it's a single photo, or an array of photos.
	function getJsonCallback(data) 
	{
	    if (data.error) {
            $('#5dd16c45f62f59399d25d7ac .block-empty-error-message').text(data.error);
            $('#5dd16c45f62f59399d25d7ac .block-empty-error').show();
        } else {
            $('#5dd16c45f62f59399d25d7ac .block-empty-error-message').text('');
            $('#5dd16c45f62f59399d25d7ac .block-empty-error').hide();

            if (Array.isArray(data)) {
                if (data.length) {
                    cached_photos5dd16c45f62f59399d25d7ac = data;
                    doRotation(data[0]);
                    cached_photos5dd16c45f62f59399d25d7ac.shift();
                } else {
                    console.log('No photos data; Skipping rotation');
                }
            } else {
                doRotation(data);
            }
        }
	}

	// Perform the photo rotation
	function doRotation(data)
	{
		if (typeof data.url === 'undefined') {
			return;
		}
		
		$('<img/>').attr('src', data.url).on('load', function(e) {

			$(this).remove(); // prevent memory leaks

			bottom.css({
				background: 'url('+data.url+') center center',
				backgroundSize: (settings.crop || settings.circle) ? 'cover' : 'contain',
				backgroundRepeat: 'no-repeat',
                clipPath: (settings.circle) ? 'circle()' : 'none',
			});

			if (settings.blur) {
				blur_bottom.css({
					background: 'url('+data.url+') center center',
					backgroundSize: 'cover',
					backgroundRepeat: 'no-repeat',
					margin: '-10px',
					filter: 'blur(10px)'
				});
			}

            bottom_group.css({opacity: 1});
			
			// Set a timeout to help improve performance
			if (settings.useTransitions) {
                isPhotoTransitioning['5dd16c45f62f59399d25d7ac'] = true;
                timers['5dd16c45f62f59399d25d7ac-transition'] = setTimeout(function() {
					top_group.css({opacity: 0});
					isPhotoTransitioning['5dd16c45f62f59399d25d7ac'] = false;
				}, 1300);
			} else {
				top_group.css({opacity: 0});
			}
			
			// Setup the progress bar info
			if (settings.meta) {
				var info = '<span class="dark">Photo</span> ';
				if (data.owner) {
                    let urlIsSet = ((typeof(data.profile_url) === 'string') && data.profile_url.length);
					info = info + ' <span class="dark">by</span> '
                        + (urlIsSet ? '<a href="'+htmlEncode(data.profile_url)+'" target="_blank">' : '')
                        + htmlEncode(data.owner)
                        + (urlIsSet ? '</a>' : '');
				}

				                $('#owner' + settings._id).html(info + ' <span class="dark">'+htmlEncode(data.verb || '')+'</span> ' + htmlEncode(data.taken));
                				$('#title' + settings._id).html('<span class="far fa-camera-alt"></span>&nbsp;&nbsp;' + htmlEncode(data.title));
				
				// Reset and animate the progress bar
				photoProgressBar5dd16c45f62f59399d25d7ac.set(0);
				photoProgressBar5dd16c45f62f59399d25d7ac.animate(1, { duration: settings.photoChange });
				
			} //end meta
			
		});//end img.load
	}; //end doRotation
	
	// Make sure there's only 1 timeout active for this block
    // TODO: Eventually phase out this "timers" variable in favor of the recordTimeoutIdForBlock one
    if (typeof(removeAndClearTimeoutIdForBlock) === 'function') {
        removeAndClearTimeoutIdForBlock('5dd16c45f62f59399d25d7ac', timers['5dd16c45f62f59399d25d7ac'])
    } else {
        clearTimeout(timers['5dd16c45f62f59399d25d7ac']);
    }


    timers['5dd16c45f62f59399d25d7ac'] = setTimeout(function() {
        update5dd16c45f62f59399d25d7ac();
    }, settings.photoChange);

    // If we're in layout editor, save off the id so timer can be cleared
    // when the block is saved/refreshed
    if (typeof(recordTimeoutIdForBlock) === 'function') {
        recordTimeoutIdForBlock(
            '5dd16c45f62f59399d25d7ac',
            timers['5dd16c45f62f59399d25d7ac'],
            function () {
                if (typeof(cached_photos5dd16c45f62f59399d25d7ac) !== 'undefined') {
                    cached_photos5dd16c45f62f59399d25d7ac.length = 0;
                    console.log('5dd16c45f62f59399d25d7ac - photo url cache cleared')
                }
            }
        );
    }

}

update5dd16c45f62f59399d25d7ac();

</script>
	<script>
		blocks['6524548370a86b1b6001a3f2'] = {
			type: 'calendar',
			is_active: true,
			schedules: [ {"id":"7c8166","occurrence_type":"weekly","occurrence_day":"2","occurrence_start":"Oct 2","occurrence_end":"Oct 2","days":["0"],"start_time_type":"time","start_time":"0:00","end_time_type":"time","end_time":"0:00"},
			],
            audio_notif_timers: [],
		}
	</script>

	
            <div class="block calendar block-calendar block--Sndag align-left text-left block-font-medium " id="6524548370a86b1b6001a3f2" style="--block-width: 100%; --block-height: 40.006510416666664%; --block-x: 0%; --block-y: 53.76057983726583%; top: var(--block-y); left: var(--block-x); width: var(--block-width); height: var(--block-height); z-index: 115; backdrop-filter: blur(0px); --block-width-px: 1705.33px; --block-height-px: 423.26px; --block-x-px: 0px; --block-y-px: 568.78125px; display: none;">
                			<div class="calendar"><div class="text-center" style="margin-top: 3em; color: rgba(255,255,255,.35);">Laster&nbsp;Kalender...</div></div></div>

		    <script>
var debuggingAudioNotif = false;

$('#6524548370a86b1b6001a3f2').append(
    // '<div class="cal-gradient-overlay"></div>'+ // TODO: Consider if we want to add and tweak this to allow a gradient on an editable calendar block
	'<div class="calendar"><div class="text-center" style="margin-top: 3em; color: rgba(255,255,255,.35);">'+
	'Laster&nbsp;Kalender...'+
	'</div></div>'
);

function addAudioNotifTimer6524548370a86b1b6001a3f2(millisecsBeforeAlert, audioName, eventUid, eventName)
{
    let timerId;

    debuggingAudioNotif && console.log('addAudioNotifTimer for ' + eventName + ' (' + eventUid + ') in ' + parseFloat(millisecsBeforeAlert/1000/60).toFixed(2) + ' mins');

    if (typeof (contentExpiration) !== 'undefined') {
        // Skip if beyond current content expiration, or is in the past
        if ((parseInt(millisecsBeforeAlert, 10) > 0)
            && (contentExpiration > (Date.now() + parseInt(millisecsBeforeAlert, 10)))) {
            timerId = setTimeout(function () {
                    $('#6524548370a86b1b6001a3f2').trigger(
                        'dak.calendar.event.notification',
                        {
                            audio: audioName,
                            eventUid: eventUid,
                            eventName: eventName,
                        }
                    );
                },
                millisecsBeforeAlert
            );

            debuggingAudioNotif && console.log('timerID:' + timerId);

            // Add the timer id to the list
            blocks['6524548370a86b1b6001a3f2'].audio_notif_timers.push(timerId);
        } else {
            debuggingAudioNotif && console.log('Skipping as outside of useful time range');
        }
    } else {
        debuggingAudioNotif && console.log('Skipping as not on Screen view');
    }
}

function clearAudioNotifTimers6524548370a86b1b6001a3f2()
{
    $.each(blocks['6524548370a86b1b6001a3f2'].audio_notif_timers, function (key, val) { clearTimeout(val); });
    blocks['6524548370a86b1b6001a3f2'].audio_notif_timers = [];
}

// Handler for Event Notifications (Audio Alerts)
$('#6524548370a86b1b6001a3f2').on('dak.calendar.event.notification', function (e, data) {
    debuggingAudioNotif && console.log('notification fired for: ' + data.eventName + ' (' + data.eventUid + ')');

    // Block is active and this is an audio notification...
    //
    if (blocks[$(this).attr('id')].is_active && data.audio) {
        // Create an Audio Elem and play the selected clip
        let audioElem = new Audio('https://static.dakboard.com/assets/audio/' + data.audio);
        audioElem.addEventListener('canplaythrough', function (e) {
            // Audio now playable; play if permissions allow
            audioElem.play();
        });
    }
});


function update6524548370a86b1b6001a3f2() {
	
	if (blocks['6524548370a86b1b6001a3f2'].is_active) {
        clearAudioNotifTimers6524548370a86b1b6001a3f2();
		$('#6524548370a86b1b6001a3f2 .calendar').load("/screen/ce47bacef4f5/block/6524548370a86b1b6001a3f2");
	}
	
	    clearTimeout(timers['6524548370a86b1b6001a3f2']);

    timers['6524548370a86b1b6001a3f2'] = setTimeout(function() {
		update6524548370a86b1b6001a3f2();
	}, 1800000 + Math.floor((Math.random() * 5000) + 1));
}

setTimeout(function() {
	update6524548370a86b1b6001a3f2();
}, Math.floor((Math.random() * 5000) + 1));

</script>	<script>
		blocks['6536a3d5291d323a2740e316'] = {
			type: 'site',
			is_active: true,
			schedules: [ {"id":"42a3e5","occurrence_type":"weekly","occurrence_day":"23","occurrence_start":"Oct 23","occurrence_end":"Oct 23","start_time_type":"time","start_time":"0:00","end_time_type":"time","end_time":"0:00"},
			],
            audio_notif_timers: [],
		}
	</script>

	
            <div class="block site block-site block--Buss align- text- block-font- " id="6536a3d5291d323a2740e316" style="--block-width: 99.79351851851851%; --block-height: 11.455624999999998%; --block-x: 0%; --block-y: 88.52159712049696%; top: var(--block-y); left: var(--block-x); width: var(--block-width); height: var(--block-height); z-index: 111; --block-width-px: 1701.8px; --block-height-px: 121.198px; --block-x-px: 0px; --block-y-px: 936.5521240234375px;"><style>
    .site-background {
	  position: absolute;
	  top: 0; right: 0; bottom: 0; left: 0;
	}
	.site-foreground,
	.site-background iframe {
	  position: absolute;
	  top: 0;
	  left: 0;
	  width: 100%;
	  height: 100%;
	  /*pointer-events: none;*/
	}
	/*@media (min-aspect-ratio: 16/9) {
	  .site-foreground { height: 300%; top: -100%; }
	}*/
	</style>
<div class="site-background">
	<div class="site-foreground">
		 
			<iframe src="./DAKboard_files/N4Igrgzgpgwg9gGzAWwHYBkCGBPOYAuIAXAGaYLQA0IARnJgE4AmExA2qBPnAA4AKCTAGMoASRbsQAOQDKAJSIzu-QSKIAWAIwBWABwBOEAF1qTKIOxQmSxvgAqAS2RRiABmoALB0zMYHqKFYiUFkFJV4BYSgNHQNJUKIARTAcIgB2TU0AZl0AWjT9XIA1BwBrD0xkZwYAU+hUYwBfalQUGig.html" id="iframe-screen-6536a3d5291d323a2740e316" name="iframe-screen-6536a3d5291d323a2740e316" frameborder="0" allowfullscreen="" allowtransparency="true">
			</iframe>
			
						
			</div>
</div></div>

		    <script>
$('#6536a3d5291d323a2740e316').load("/screen/ce47bacef4f5/block/6536a3d5291d323a2740e316");
</script>	<script>
		blocks['6536a4ab8214ba59a43fe748'] = {
			type: 'text',
			is_active: true,
			schedules: [ 			],
            audio_notif_timers: [],
		}
	</script>

	
            <div class="block text block-text block--Overlay align-left text-left has-background block-font-xsmall " id="6536a4ab8214ba59a43fe748" style="--block-width: 100%; --block-height: 95.77708333333335%; --block-x: 0%; --block-y: 0%; top: var(--block-y); left: var(--block-x); width: var(--block-width); height: var(--block-height); color: rgb(0, 0, 0); z-index: 112; background: rgb(0, 0, 0); --block-width-px: 1705.33px; --block-height-px: 1013.31px; --block-x-px: 0px; --block-y-px: 0px;">
<!--<div class="block-font-xsmall text-left " 
	style="color: rgb(0, 0, 0);">-->
		<div id="6536a4ab8214ba59a43fe748-text" class="convert-markdown " style="display: flow-root;"></div>
	<!--</div>-->


<script>
var conv, txt;
$(function () {
    if (showdown) {
        conv = new showdown.Converter({tables: 'true', emoji: 'true'});
        txt = document.getElementById('6536a4ab8214ba59a43fe748-text').innerHTML;
        document.getElementById('6536a4ab8214ba59a43fe748-text').innerHTML = conv.makeHtml(txt);
    } else {
        console.log('Unable to instantiate showdown converter!');
    }
});
</script>
</div>

		    <script>
function update6536a4ab8214ba59a43fe748() {
    if (blocks['6536a4ab8214ba59a43fe748'].is_active) {
        $('#6536a4ab8214ba59a43fe748').load("/screen/ce47bacef4f5/block/6536a4ab8214ba59a43fe748");
    }

    clearTimeout(timers['6536a4ab8214ba59a43fe748']);

    timers['6536a4ab8214ba59a43fe748'] = setTimeout(function() {
        update6536a4ab8214ba59a43fe748();
    }, 3600*1000);
}

update6536a4ab8214ba59a43fe748();
</script>	<script>
		blocks['653eb2376cca200f5f2b7809'] = {
			type: 'widget',
			is_active: true,
			schedules: [ 			],
            audio_notif_timers: [],
		}
	</script>

	
            <div class="block widget block-widget align- text- block-font- " id="653eb2376cca200f5f2b7809" style="--block-width: 74.13773148148147%; --block-height: 25.576171874999996%; --block-x: 0%; --block-y: 1.678059178013955%; top: var(--block-y); left: var(--block-x); width: var(--block-width); height: var(--block-height); z-index: 118; --block-width-px: 1264.29px; --block-height-px: 270.594px; --block-x-px: 0px; --block-y-px: 17.75px;">
                			<iframe src="./DAKboard_files/653eb2376cca200f5f2b7809.html" id="iframe-653eb2376cca200f5f2b7809" frameborder="0" style="position:absolute;width:100%;height:100%;" sandbox="allow-scripts allow-same-origin"></iframe></div>

		    <script>
$('#653eb2376cca200f5f2b7809').append(
	'<iframe src="/screen/ce47bacef4f5/block/653eb2376cca200f5f2b7809" id="iframe-653eb2376cca200f5f2b7809" frameborder="0" style="position:absolute;width:100%;height:100%;" sandbox="allow-scripts allow-same-origin"></iframe>'
);
</script>

</div>

<a href="https://dakboard.com/screen/uuid/5db5be9f-10981b-d9e5-ce47bacef4f5#" class="prev-screen-link" style="display: none; opacity: 1;">
    <span class="fas fa-arrow-circle-left"></span>
    <span class="prev-screen-desc font-light">Prev Screen</span>
</a>
<a href="https://dakboard.com/screen/uuid/5db5be9f-10981b-d9e5-ce47bacef4f5#" class="next-screen-link" style="display: none; opacity: 1;">
    <span class="fas fa-arrow-circle-right"></span>
    <span class="next-screen-desc font-light">Next Screen</span>
</a>

            <style>
        .block-text,
        .block-todo,
        .block-rss,
        .block-calendar,
        .block-datetime,
        .block-weather,
        .block-weatheralerts,
        .block-fetch,
        .block-nutrislice,
        .block-messaging,
        .block-news {
            -webkit-mask-image: linear-gradient(to bottom, white 90%, transparent);
            mask-image: linear-gradient(to bottom, white 90%, transparent);
        }

        /*
         * TODO: Consider if we want to add and tweak this CSS to allow a gradient on an editable calendar block
         *
         *
        .block-calendar > .calendar {
            position: absolute;
            top: 0;
            left: 0;
            z-index: 10;
        }

        .cal-gradient-overlay {
            display: none;

            position: fixed;
            pointer-events: none;
            width: var(--block-width-px);
            height: var(--block-height-px);
            z-index: 9;

            background-color: black;

            -webkit-mask-image: linear-gradient(to bottom, transparent 0%, transparent 90%, white 100%);
            mask-image: linear-gradient(to bottom, transparent 0%, transparent 90%, white 100%);
        }

        .block-calendar.has-background .cal-gradient-overlay {
            display: none;
        }
         *
         *
         */
        </style>
        
<script>
$(function() {


    // Calculate pixel-based block sizes and set CSS vars for them
    console.log('Calculating initial block-*-px sizes...');
    $('.block, .yt-video-container').each(function (idx, elem) {
        $(this).css('--block-width-px', $(this).width() + 'px');
        $(this).css('--block-height-px', $(this).height() + 'px');
        $(this).css('--block-x-px', $(this).offset().left + 'px');
        $(this).css('--block-y-px', $(this).offset().top + 'px');
    });

    // Recalculate when viewport is resized
    $(window).on('resize', function (e) {
        // TODO: Consider adding window.requestAnimationFrame to throttle resize requests
        console.log('(Resize) Re-calculating initial block-*-px sizes...');
        $('.block, .yt-video-container').each(function (idx, elem) {
            $(this).css('--block-width-px', $(this).width() + 'px');
            $(this).css('--block-height-px', $(this).height() + 'px');
            $(this).css('--block-x-px', $(this).offset().left + 'px');
            $(this).css('--block-y-px', $(this).offset().top + 'px');
        });
    });


	var i = null;

	if ('ontouchstart' in window) {
		$(window).on('touchstart', function() {
		    clearTimeout(i);
		    $('.options-link, .prev-screen-link, .next-screen-link, .calendar-add-event-btn').css({opacity: 1});
		    i = setTimeout(function () {
		        $('.options-link, .prev-screen-link, .next-screen-link, .calendar-add-event-btn').css({opacity: 0});
		    }, 10000);
		});
	} else {
		$(window).on('mousemove', function() {
		    clearTimeout(i);
		    $('.options-link, .prev-screen-link, .next-screen-link, .calendar-add-event-btn').css({opacity: 1});
		    i = setTimeout(function () {
		        $('.options-link, .prev-screen-link, .next-screen-link, .calendar-add-event-btn').css({opacity:0});
		    }, 10000);
		});
	}

	// Am I displaying within a loop frame?
	if ((window.frameElement !== null) && ($(window.frameElement).parent().attr('id') == 'frames')) {
	    $('.prev-screen-link, .next-screen-link').show();

	    $('.prev-screen-link').on('click', function () { parent.setLocation(true); });
        $('.next-screen-link').on('click', function () { parent.setLocation(); });
    }

	i = setTimeout(function () {
        $('.options-link, .prev-screen-link, .next-screen-link, .calendar-add-event-btn').css({opacity: 0});
    }, 10000);

	let netCheckBufferTime = 3600000;
    	let versionCheckInterval = 120000;
	
	function showOfflineMessage()
    {
        $('#dak-network-offline')
            .removeClass('fadeOutLeft')
            .addClass('fadeInLeft')
            .show();
    }

    function hideOfflineMessage()
    {
        $('#dak-network-offline')
            .removeClass('fadeInLeft')
            .addClass('fadeOutLeft')
            .hide();
    }
			setInterval(function(){
		    let isPastExpiration = (Date.now() > contentExpiration);
            $.ajax({
                url: "/api/2/screens/ce47bacef4f5/version",
                dataType: 'json',
                success: function( data ) {
                    hideOfflineMessage();
                    if (isPastExpiration || (data.version > 816)) {
                        location.reload();
                    }
                },
			}).fail(function (jqXhr, textStatus, errThrown) {
			    console.log('Unable to check version:', jqXhr.status, jqXhr.responseJSON, textStatus, errThrown);
			    if (jqXhr.status === 404) {
			        if (isPastExpiration) location.reload();
                } else {
                    console.info('DAKboard device is offline');
                    if (isPastExpiration && ((Date.now() - contentExpiration) > netCheckBufferTime)) {
                        showOfflineMessage();
                    }
                }
            });
        }, versionCheckInterval);

	    
	if (typeof(checkBlockSchedules) === 'function') checkBlockSchedules();

    if (typeof(checkTextSchedules) === 'function') checkTextSchedules();

	
});
</script>

	<script src="./DAKboard_files/showdown.min.js.last ned"></script>
    	<script src="./DAKboard_files/nb.js.last ned" charset="UTF-8"></script>
    
</body></html>