<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Clock Widget Test</title>
  <style>
    body {
      margin: 0;
      padding: 20px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background-color: #1a1a1a;
      color: white;
    }
    #clock {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
    }
    #time {
      font-size: 3rem;
      font-weight: bold;
      line-height: 1;
    }
    #date {
      font-size: 1.5rem;
      opacity: 0.8;
    }
  </style>
</head>
<body>
  <h1>Clock Widget Test</h1>
  
  <div id="clock">
    <div id="time">--:--:--</div>
    <div id="date">------</div>
  </div>
  
  <div id="controls" style="margin-top: 20px;">
    <div>
      <label>
        <input type="checkbox" id="use24Hour" checked> 
        Use 24-hour format
      </label>
    </div>
    <div>
      <label>
        <input type="checkbox" id="showSeconds" checked> 
        Show seconds
      </label>
    </div>
    <div>
      <label>
        <input type="checkbox" id="showDate" checked> 
        Show date
      </label>
    </div>
  </div>
  
  <script>
    // Settings
    const settings = {
      use24HourFormat: true,
      showSeconds: true,
      showDate: true
    };
    
    // DOM elements
    const timeElement = document.getElementById('time');
    const dateElement = document.getElementById('date');
    
    // Format time and date
    function updateClock() {
      const now = new Date();
      
      // Format time
      const timeOptions = {
        hour: 'numeric',
        minute: 'numeric',
        ...(settings.showSeconds && { second: 'numeric' }),
        hour12: !settings.use24HourFormat
      };
      
      timeElement.textContent = new Intl.DateTimeFormat(
        navigator.language, 
        timeOptions
      ).format(now);
      
      // Format date if enabled
      if (settings.showDate) {
        const dateOptions = {
          weekday: 'long',
          year: 'numeric',
          month: 'long',
          day: 'numeric'
        };
        
        dateElement.textContent = new Intl.DateTimeFormat(
          navigator.language, 
          dateOptions
        ).format(now);
        
        dateElement.style.display = 'block';
      } else {
        dateElement.style.display = 'none';
      }
    }
    
    // Update settings based on controls
    function updateSettings() {
      settings.use24HourFormat = document.getElementById('use24Hour').checked;
      settings.showSeconds = document.getElementById('showSeconds').checked;
      settings.showDate = document.getElementById('showDate').checked;
      
      updateClock();
    }
    
    // Add event listeners
    document.getElementById('use24Hour').addEventListener('change', updateSettings);
    document.getElementById('showSeconds').addEventListener('change', updateSettings);
    document.getElementById('showDate').addEventListener('change', updateSettings);
    
    // Initial update
    updateClock();
    
    // Update every second
    setInterval(updateClock, 1000);
  </script>
</body>
</html>